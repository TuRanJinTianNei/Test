# LTE标准OFDM系统空子载波位置表（10MHz系统）

## 系统参数

- **IFFT总点数 (N)**: 2048
- **总子载波数**: 600（标准索引k: -299 ~ 300，不含DC）
- **有效数据子载波数**: 503（标准索引k: -251 ~ 252，不含DC，其中正频率252个+负频率251个共轭对称）
- **实际数据子载波数**: 252（正频率k=1~252，负频率k=-251~-1自动共轭）
- **空子载波总数**: 97（含1个DC子载波 + 48个低频保护带 + 48个高频保护带）

## 子载波索引映射规则

LTE标准使用复数OFDM，子载波索引采用标准索引k（范围-299到300）：
- **标准索引k**: -299 ~ 300，其中k=0为DC子载波
- **MATLAB IFFT bin映射规则**:
  - k = 0 → bin = 1（DC子载波）
  - k > 0 → bin = k + 1
  - k < 0 → bin = N + k + 1（其中N=2048）

## 子载波位置分布表

### 有效数据子载波（传输数据，共503个，不含DC）

| 标准索引k范围 | MATLAB bin范围 | 子载波类型 | 数量 | 说明 |
|--------------|---------------|-----------|------|------|
| **-251 ~ -1** | bin=1798~2048 | 有效数据子载波（负频率共轭） | 251 | 负频率共轭子载波，自动由正频率共轭得到 |
| **1 ~ 252** | bin=2~253 | 有效数据子载波（正频率） | 252 | 承载16QAM调制数据（正频率），数据直接映射 |
| **总计** | - | **有效数据子载波** | **503** | 不含DC，其中252个正频率承载数据，251个负频率为共轭 |

**注意**: 
- k=0（DC子载波，bin=1）不用于数据传输，设为0
- 为使IFFT输出为实信号，采用共轭对称映射：数据仅映射到正频率（k=1~252），负频率（k=-251~-1）自动由正频率共轭得到
- 实际数据子载波数为252个（正频率部分）

### 空子载波（不传输数据，总计97个）

| 标准索引k范围 | MATLAB bin范围 | 空子载波类型 | 数量 | 说明 |
|--------------|---------------|-------------|------|------|
| **0** | 1 | DC子载波 | 1 | 直流分量，通常设为0 |
| **-299 ~ -252** | bin=1750~1797 | 低频保护带 | 48 | 频谱左侧保护带，避免干扰 |
| **253 ~ 300** | bin=254~301 | 高频保护带 | 48 | 频谱右侧保护带，避免干扰 |
| **总计** | - | **空子载波** | **97** | 所有不传输数据的子载波 |

## 详细空子载波位置列表

**说明：以下所有子载波都是空子载波（不传输数据，设为0）**

### 1. DC子载波（标准索引k=0，MATLAB bin=1）

| 标准索引k | MATLAB bin | 类型 | 说明 |
|----------|-----------|------|------|
| 0 | 1 | DC | 直流分量，设为0 |

**小计：1个空子载波**

### 2. 低频保护带（标准索引k = -299 ~ -252，共48个空子载波）

| 标准索引k范围 | 数量 | 说明 |
|--------------|------|------|
| -299 ~ -252 | 48 | 频谱左侧保护带，防止频谱泄漏到负频率区域 |

**MATLAB bin计算示例**（k < 0）:
- k = -299 → bin = 2048 + (-299) + 1 = 1750
- k = -252 → bin = 2048 + (-252) + 1 = 1797
- 因此，低频保护带的MATLAB bin范围：1750 ~ 1797

### 3. 高频保护带（标准索引k = 253 ~ 300，共48个空子载波）

| 标准索引k范围 | 数量 | 说明 |
|--------------|------|------|
| 253 ~ 300 | 48 | 频谱右侧保护带，防止频谱泄漏到高频区域 |

**MATLAB bin计算示例**（k > 0）:
- k = 253 → bin = 253 + 1 = 254
- k = 300 → bin = 300 + 1 = 301
- 因此，高频保护带的MATLAB bin范围：254 ~ 301

## 空子载波索引完整列表

### DC子载波（k=0，bin=1，共1个空子载波）

```
标准索引k: 0
MATLAB bin: 1
```

### 低频保护带（k=-299~-252，bin=1750~1797，共48个空子载波）

```
标准索引k: -299, -298, -297, ..., -253, -252
MATLAB bin: 1750, 1751, 1752, ..., 1796, 1797
```

### 高频保护带（k=253~300，bin=254~301，共48个空子载波）

```
标准索引k: 253, 254, 255, ..., 299, 300
MATLAB bin: 254, 255, 256, ..., 300, 301
```

## 验证计算

- **总子载波数**: 600（标准索引k: -299 ~ 300，不含DC）
- **有效数据子载波**: 503（标准索引k: -251 ~ 252，不含DC，其中正频率252个+负频率251个共轭对称）
- **实际数据子载波数**: 252（正频率k=1~252，负频率k=-251~-1自动共轭）
- **空子载波总数**: 1（DC）+ 48（低频保护带）+ 48（高频保护带）= **97** ✓
- **验证**: 600 = 503 + 97 ✓（不含DC），或 601 = 503 + 1（DC）+ 97 ✓

## 频域结构示意图

```
标准索引k: -299  -252  -251  ...  -1   0    1    ...  252  253  ...  300
           |      |     |          |    |    |         |    |         |
类型:      保护带  保护带  数据子载波    数据  DC   数据子载波  保护带  保护带
           |      |     |          |    |    |         |    |         |
           |      |     |          |    |    |         |    |         |
空子载波:  ✓      ✓     ✗          ✗   ✓    ✗         ✗    ✓        ✓
           |      |     |          |    |    |         |    |         |
频率:      负频率  负频率  负频率区域    负频率  DC   正频率区域  正频率  正频率
           |      |     |          |    |    |         |    |         |
数据映射:  空     空    共轭对称    共轭  空   直接映射  直接映射  空     空
```

**说明：** 
- 所有标记为"空子载波"的位置（包括DC、低频保护带和高频保护带）都不传输数据，设为0
- 为使IFFT输出为实信号，数据仅映射到正频率（k=1~252），负频率（k=-251~-1）自动由正频率共轭得到
- 有效数据子载波共503个（不含DC），但实际数据子载波数为252个（正频率部分）

## 设计目的

**空子载波的设计目的（所有空子载波都不传输数据）：**

1. **DC子载波（k=0，bin=1，空子载波）**: 避免直流分量，通常设为0
2. **低频保护带（k=-299~-252，48个空子载波）**: 防止频谱泄漏到负频率区域，作为频谱左侧保护带
3. **高频保护带（k=253~300，48个空子载波）**: 防止频谱泄漏到高频区域，符合频谱掩码要求，作为频谱右侧保护带

## MATLAB代码验证

```matlab
IFFT_bin_length = 2048;
total_subcarriers = 600;  % 标准索引k: -299 ~ 300（不含DC）
null_subcarriers = 97;    % 1个DC + 48个低频保护带 + 48个高频保护带
carrier_count = 252;      % 实际数据子载波数（正频率部分）

% LTE标准子载波索引映射（为使IFFT输出为实信号，采用共轭对称映射）
% 正频率数据子载波：k = 1 ~ 252（共252个）
% 负频率共轭子载波：k = -251 ~ -1（共251个，自动由正频率共轭得到）
% 总有效子载波数（含共轭）：252 + 251 = 503个（不含DC）

% 将标准索引k映射到MATLAB IFFT bin索引
map_k_to_bin = @(k) (k==0).*1 + (k>0).*(k+1) + (k<0).*(IFFT_bin_length+k+1);

% 正频率数据子载波
k_positive = 1:252;
carriers_positive = arrayfun(map_k_to_bin, k_positive);  % bin=2~253

% 负频率共轭子载波
k_negative = -251:-1;
carriers_negative = arrayfun(map_k_to_bin, k_negative);  % bin=1798~2048

% 空子载波位置
% DC子载波：k=0 → bin=1
dc_bin = 1;

% 低频保护带：k=-299~-252（48个空子载波）
k_low_guard = -299:-252;
bins_low_guard = arrayfun(map_k_to_bin, k_low_guard);  % bin=1750~1797

% 高频保护带：k=253~300（48个空子载波）
k_high_guard = 253:300;
bins_high_guard = arrayfun(map_k_to_bin, k_high_guard);  % bin=254~301

% 所有空子载波
null_carriers = [dc_bin, bins_low_guard, bins_high_guard];
% 验证：length(null_carriers) 应该等于 97
```

## LTE标准说明

本配置严格遵循LTE标准10MHz系统参数：
- **子载波间隔**: 15 kHz
- **系统带宽**: 10 MHz
- **采样率**: 30.72 MHz
- **IFFT点数**: 2048
- **总子载波数**: 600（标准索引k: -299 ~ 300，不含DC）
- **有效子载波数**: 503（标准索引k: -251 ~ 252，不含DC，含共轭对称）
- **实际数据子载波数**: 252（正频率k=1~252，负频率k=-251~-1自动共轭）
- **空子载波数**: 97（1个DC + 48个低频保护带 + 48个高频保护带）

注意：
- 为使IFFT输出为实信号，本实现采用共轭对称映射：数据仅映射到正频率子载波（k=1~252），负频率子载波（k=-251~-1）自动由正频率共轭得到
- 这与标准LTE复数OFDM不同，标准LTE中OFDM符号是复数的，不需要共轭对称映射
